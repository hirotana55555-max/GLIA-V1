# GLIA Swarm MVP 動作検証手順書（非エンジニア・ChatGPT指示書兼用）

### 概要（500文字以内）
本手順書は、GLIA Swarmの中核機能（自律的なブラウザ操作計画と実行）を検証するためのものです。

- **目的**: AIが目標（Mission）を受け取り、解決策（Proposal）を生成し、安全に実行（Execute）する流れを確認する。
- **前提**: Node.jsがインストールされたPC（Windows/Mac/Linux）。
- **手順**:
    1.  **環境準備**: ターミナルを開き、プロジェクトフォルダへ移動。
    2.  **設定**: APIキー（OpenRouter）を `.env` ファイルに設定（任意。なくても模擬モードで動作）。
    3.  **ビルド**: `npm install && npm run build:all` で全プログラムを準備。
    4.  **実行**: `node integration-test/antigravity-harness.js` を実行。
    5.  **確認**: 画面に「SUCCESS: Mission accepted」と表示されれば成功。ログファイル（`audit.jsonl`）でAIの思考と行動履歴を確認。

この手順により、専門的なコードを読まずとも「AI Swarmが正しく稼働しているか」を客観的に検証できます。失敗時はエラーログをエンジニア（またはChatGPT）に提示してください。

---

### 詳細手順解説

#### 1. 前提知識と準備
GLIAは「Electron」という技術で作られたデスクトップアプリの基盤ですが、今回の検証対象はその**頭脳部分（Swarm Infrastructure）**です。画面（GUI）ではなく、**ターミナル（黒い画面）**で対話的に動作します。

- **Node.js**: プログラムを動かすエンジンです。まだの場合は公式サイトからインストールしてください（LTS版推奨）。
- **ターミナル**: Windowsなら「PowerShell」または「コマンドプロンプト」、Macなら「ターミナル」アプリを開きます。

#### 2. プロジェクトの準備
まず、プログラムのコードがある場所へ移動します。
```bash
# フォルダへの移動（例）
cd /path/to/GLIA-V1
```

次に、必要な「部品（ライブラリ）」を全てインストールし、プログラムを「翻訳（ビルド）」します。
```bash
# インストールとビルドを一括実行
npm install
npm run build:all
```
エラーが表示されなければ成功です。

#### 3. AIの「魂」を入れる（設定ファイルの作成）
AIが実際に外部の頭脳（OpenRouterなど）を使うために、APIキーを設定します。
※ キーがない場合でも、システムは「模擬モード（Mock Fallback）」で動くため、動作検証自体は可能です。

1. プロジェクトのルート（一番上の階層）に `.env` という名前のファイルを作成します。
2. 以下の内容を書き込み、保存します（`sk-or-...`の部分はお持ちのキーに書き換えてください）。
```env
OPENROUTER_API_KEY=sk-or-your-api-key-here
```

#### 4. 検証プログラム（テストハーネス）の実行
いよいよAIを起動します。以下のコマンドを入力してください。
```bash
node integration-test/antigravity-harness.js
```

**実行されること:**
1.  **Mission発令**: 「GoogleでDeepMindを検索せよ」という指令が出ます。
2.  **思考（Orchestrator）**: AI（または模擬AI）が「検索ページに行って、入力欄に文字を入れて…」という手順書を作ります。
3.  **審査（SIE）**: その手順書に危険な操作がないか、システムが自動チェックします。
4.  **実行（BrowserManager）**: 実際にブラウザ操作（のシミュレーション）が行われます。
5.  **結果判定**: 成功したかどうかが判定されます。

**成功時の表示:**
```text
=== Mission Completed ===
Status: ACCEPTED
Score: 85
...
SUCCESS: Mission accepted.
```

#### 5. 監査ログの確認（これが最も重要です）
実行後、`swarm-audit.jsonl`（または設定されたログファイル）が生成されます。これはAIの行動記録です。
中身を見ると、以下のような情報が記録されています（JSON形式）：
- `mission_start`: 何をしようとしたか
- `proposal_received`: どういう手順を考えたか
- `instruction_executed`: 具体的に何の操作をしたか

このログがあることで、「なぜ成功したか」「どこで間違えたか」を後から客観的に分析できます。

#### トラブルシューティング
- **"Unauthorized" エラー**: APIキーが間違っているか、有効期限切れです。`.env` を確認するか、キーを外して模擬モードで試してください。
- **"Module not found" エラー**: `npm run build:all` を忘れている可能性があります。再度実行してください。

この手順書に従えば、エンジニアでなくともGLIA Swarmの核心部分が正常に動作していることを完全に検証可能です。
